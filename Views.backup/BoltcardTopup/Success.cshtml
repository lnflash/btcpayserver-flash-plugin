@using BTCPayServer.Plugins.Flash.Models
@model BoltcardResultViewModel
@{
    ViewData["Title"] = "Topup Successful";
    Layout = "_Layout";
}

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card mb-4">
                <div class="card-header bg-success text-white">
                    <h3 class="mb-0">Payment Successful</h3>
                </div>
                <div class="card-body text-center">
                    <div class="mb-4">
                        <i class="fa fa-check-circle text-success" style="font-size: 72px;"></i>
                    </div>
                    
                    <h4 class="mb-3">Your Boltcard has been topped up</h4>
                    
                    @if (Model.Amount.HasValue)
                    {
                        <p class="mb-3">Amount: <strong>@Model.Amount satoshis</strong></p>
                    }
                    
                    <p class="text-muted mb-4">@Model.Message</p>
                    
                    <div class="mb-4">
                        <p class="small text-muted">
                            Payment reference: @Model.InvoiceId
                        </p>
                    </div>
                    
                    <div class="d-grid gap-2">
                        <a href="javascript:window.close();" class="btn btn-outline-secondary">Close Window</a>
                        <a href="flashapp://" class="btn btn-primary">Return to Flash App</a>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h4 class="mb-0">What's Next?</h4>
                </div>
                <div class="card-body">
                    <ol>
                        <li>Your Boltcard has been successfully topped up</li>
                        <li>You can now use your Boltcard for contactless payments</li>
                        <li>Tap your card at any NFC-compatible Lightning terminal</li>
                        <li>Transactions will be deducted from your card balance</li>
                    </ol>
                    
                    <div class="mt-3 text-center">
                        <a href="/plugins/flash/boltcard/topup/@Context.Request.RouteValues["storeId"]" class="btn btn-outline-primary">
                            <i class="fa fa-plus-circle"></i> Add More Funds
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>